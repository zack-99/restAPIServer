<!DOCTYPE html>
<html>

<head>
	<title>Resource Owner Password Credentials Client (Web Application)</title>
</head>

<body>
	<h2>Api disponibili</h2>

	<h3>Prescrizioni:</h3>
	<table>
		<tr>
			<td>Info su tutte le prescrizioni</td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="prescriptions?department=Cardiologia" />
			</form></td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="prescriptions?department=error" />
			</form></td>
		</tr>
		<tr>
			<td>Info su tutte le prescrizioni di un paziente specifico di un reparto</td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="prescription?department=Cardiologia&patient=patient1" />
			</form></td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="prescription?department=error&patient=patient1" />
			</form></td>
		</tr>
		<tr>
			<td>Info su tutte le mie prescrizioni</td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="prescription/me" />
			</form></td>
		</tr>

	</table>

	<h3>Pazienti:</h3>
	<table>
		<tr>
			<td>Info su tutti i pazienti</td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="patients?department=Cardiologia" />
			</form></td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="patients?department=error" />
			</form></td>
		</tr>
		<tr>
			<td>Info su di me</td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="patient/me" />
			</form></td>
		</tr>
		<tr>
			<td>Info su un paziente specifico di un reparto specifico</td>
			<form action="/result_api" method="get">
			<td><input type="submit" name="end_point" value="patient?department=Cardiologia&patient=patient1"/>
			</form></td>
			<form action="/result_api" method="get">
			<td><input type="submit" name="end_point" value="patient?department=error&patient=patient1"/>
			</form></td>
		</tr>
	</table>

	<h3>Dottori:</h3>
	<table>
		<tr>
			<td>Info su tutti i dottori</td>
			<form action="/result_api" method="get">
				<td><input id="prescriptions" type="submit" name="end_point" value="doctors" />
			</form></td>
		</tr>
		<tr>
			<td>Info su tutti i dottori di un reparto</td>
			<form action="/result_api" method="get">
			<td><input type="submit" name="end_point" value="doctors/department?department=departmentname"/>
			</form></td>
		</tr>
	</table>
	<br>
	<b>Ovviamente ci sono anche gli endpoint per inserire nuove prescrizioni ad un paziente, nuovi pazienti, ... (sono ancora da implementare, ma ci vuole un secondo)</b>
	<br>
	<b>Il mio dubbio su queste è che in realtà non saprei cosa far vedere come risultato della chiamata per l'esame</b>
	<br>
	<p>I dati restituiti qui sotto non sono generati automaticamente.</p>
	<p>Per testare le api direttamente da swagger bisogna modificare nel FASTAPI_server il metodo check_valid_token: decommentare il return None dopo "if token_auth is None"</p>
	<h2>API result:</h2>
	{{result}}
	<!--<table style="width:100%">
	  <tr>
	    <th>Username</th>
	    <th>Email</th> 
	  </tr>
	  {% for user in users %}
	  <tr>
	  	<td>{{ user['username'] }}</td>
	  	<td>{{ user['email'] }}</td>
	  </tr>
	  {% endfor %}
	</table>-->

	<h2>Dubbi e cose da risolvere:</h2>
	<ul>
		<li>Come gestiamo l'uso delle API da Swagger? Dobbiamo creare dei nuovi end_point solo per swagger per ottenere un token, altrimenti non possiamo testarle direttamente da lì</li>
	</ul>

</body>

</html>